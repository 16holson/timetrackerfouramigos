<!-- ng-cloak ng-if="loaded" -->
<div id="user" class="position-relative container" ng-cloak>
  <div class="row">
    <h1 class="mt-8 dashboard-titles">{{user['firstName']}} {{user['lastName']}}</h1>
    <div class=" col-md-4">
      <form>
        <div style="width: fit-content;">
          <div class="m-3">
            <p class="text-success" [hidden]="!showChangedName">Changed Name</p>
          </div>
          <div class="m-3">
            <mat-label class="me-2 float-start" for="username">Username</mat-label>
            <input matInput class="float-end" type="text" id="username" name="username" value="{{user['username']}}" />
          </div>
          <br>
          <div class="m-3">
            <mat-label class="me-2 float-start" for="firstName">First Name</mat-label>
            <input matInput class="float-end" type="text" id="firstname" name="firstName" value="{{user['firstName']}}"/>
          </div>
          <br>
          <div class="m-3">
            <mat-label class="me-2 float-start" for="lastName">Last Name</mat-label>
            <input matInput class="float-end" type="text" id="lastname" name="lastName" value="{{user['lastName']}}"/>
          </div>
        </div>
        <div style="width: fit-content" class="mt-5 ms-3">
          <div class="pretty p-svg p-curve mt-1">
            <!-- ng-model="viewUser.isActive" ng-change="saveUser()" ng-disabled="$parent.user.type !== 'A'" -->
            <input (click)="changeActive()" [checked]="user.isActive" />
            <div class="state p-primary">
              <svg class="svg svg-icon" viewBox="0 0 20 20">
                <path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path>
              </svg>
              <label>Active</label>
            </div>
          </div>
          <div class="float-end">
            <label class="me-2">Type: </label>
            <!-- ng-model="viewUser.type" ng-change="saveUser()" ng-disabled="$parent.user.type !== 'A'" -->
            <select>
              <option value="S">Student</option>
              <option value="I">Instructor</option>
              <option value="A">Admin</option>
            </select>
          </div>
          <div class="mt-3">
            <!-- ng-click="changePassword()" -->
            <button type="button" (click)="changeName()" class="btn btn-primary">Save Name</button>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-4">
      <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
        <div style="width: fit-content;">
          <div class="m-3">
            <p [class]="errColor">{{ errMsg }}</p>
          </div>
          <div class="m-3">
            <mat-label class="me-2 float-start" for="currentPassword">Current Password</mat-label>
            <input matInput ng-model="password" formControlName="currentpassword" class="float-end" type="password" id="currentpassword" name="currentpassword" />
          </div>
          <br />
          <div class="m-3">
            <mat-label class="me-2 float-start" for="newPassword">New Password</mat-label>
            <input matInput ng-model="password" formControlName="newpassword" class="float-end" id="newpassword" type="password" name="newpassword" />
          </div>
          <br />
          <div class="m-3">
            <mat-label class="me-2 float-start" for="repeatPassword">Repeat Password</mat-label>
            <input matInput ng-model="password" formControlName="repeatpassword" id="repeatpassword" class="float-end" type="password" name="repeatpassword" />
          </div>
        </div>
        <div class="m-3">
          <!-- ng-click="changePassword()" -->
          <button id="changePasswordBtn" type="submit" class="mt-3 me-1 btn btn-primary float-start">Change Password</button>
          <button id="instructorBtn" type="button" class="mt-3 ms-1 btn btn-primary float-end" (click)="requestToBeInstructor()"> Request To Be Instructor</button>
        </div>
      </form>
      </div>
  </div>
</div>



<!--&lt;!&ndash; ng-cloak ng-if="loaded" &ndash;&gt;-->
<!--<div id="user">-->
<!--  <h3 class="col-2 mt-2">{{ user.firstName }} {{ user.lastName }}</h3>-->
  <!-- <h4 class="col-2 mt-2">You are {{ userActive }}</h4> -->
<!--  <div class="col-2 mt-2">-->
<!--    <div class="pretty p-svg p-curve mr-4">-->
<!--       ng-model="viewUser.isActive" ng-change="saveUser()" ng-disabled="$parent.user.type !== 'A'" -->
<!--      <input type="checkbox" (click)="changeActive()" [checked]="user.isActive" />-->
<!--      <div class="state p-primary">-->
<!--        <svg class="svg svg-icon" viewBox="0 0 20 20">-->
<!--          <path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path>-->
<!--        </svg>-->
<!--        <label>Active</label>-->
<!--      </div>-->
<!--    </div>-->
<!--    &lt;!&ndash; <label>Type: </label> &ndash;&gt;-->
<!--    &lt;!&ndash; ng-model="viewUser.type" ng-change="saveUser()" ng-disabled="$parent.user.type !== 'A'" &ndash;&gt;-->
<!--    &lt;!&ndash; <select>-->
<!--      <option value="S">Student</option>-->
<!--      <option value="I">Instructor</option>-->
<!--      <option value="A">Admin</option>-->
<!--    </select> &ndash;&gt;-->
<!--  </div>-->
<!--  <div class="row">-->
<!--    <div class="col-12 col-md-6 mt-4">-->
<!--      <div class="row">-->
<!--        <div class="col-5 text-right pr-1 pl-0">-->
<!--          <label class="mb-2 mt-1" for="username">Username</label>-->
<!--          <br />-->
<!--          <label class="mb-2 mt-1" for="firstName">First Name</label>-->
<!--          <br />-->
<!--          <label class="mb-2 mt-1" for="lastName">Last Name</label>-->
<!--        </div>-->
<!--        <div class="col pl-0">-->
<!--          &lt;!&ndash; ng-model="viewUser.username" ng-model-options="{debounce: 750}" ng-change="saveUser()" &ndash;&gt;-->
<!--          <input class="mb-1" type="text" name="username" id="username" placeholder="{{user['username']}}" />-->
<!--          <br />-->
<!--          &lt;!&ndash; ng-model="viewUser.firstName" ng-model-options="{debounce: 750}" ng-change="saveUser()" &ndash;&gt;-->
<!--          <input class="mb-1" type="text" name="firstName" id="firstname" placeholder="{{user['firstName']}}"/>-->
<!--          <br />-->
<!--          &lt;!&ndash; ng-model="viewUser.lastName" ng-model-options="{debounce: 750}" ng-change="saveUser()" &ndash;&gt;-->
<!--          <input class="mb-1" type="text" name="lastName" id="lastname" placeholder="{{user['lastName']}}"/>-->
<!--        </div>-->

<!--        <div class="row mt-2 mx-auto">-->
<!--          &lt;!&ndash; ng-click="changePassword()" &ndash;&gt;-->
<!--          <button type="button" (click)="changeName()" class="btn btn-primary col mr-1">Save Name</button>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    <div class="col-12 col-md-6 mt-4">-->
<!--      <div class="row">-->
<!--        <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">-->
<!--          <div class="col-5 text-right pr-1 pl-0">-->
<!--            <div>-->
<!--              <p style="color: red;">{{ errMsg }}</p>-->
<!--            </div>-->
<!--            <div class="input-group col-5 text-right pr-1 pl-0" style="margin-top: 1px;">-->
<!--              <label class="mb-2 mt-2" for="currentpassword">Current Password </label>-->
<!--              <input class="mb-2" ng-model="password" formControlName="currentpassword" type="password" id="currentpassword" name="currentpassword" />-->
<!--            </div>-->

<!--            <div class="input-group col-5 text-right pr-1 pl-0" style="margin-top: 1px;">-->
<!--              <label class="mb-2 mt-2" for="newpassword">New Password </label>-->
<!--              <input class="mb-2" ng-model="password" formControlName="newpassword" type="password" id="newpassword" name="newpassword" />-->
<!--            </div>-->

<!--            <div class="input-group col-5 text-right pr-1 pl-0" style="margin-top: 1px;">-->
<!--              <label class="mb-2 mt-2" for="repeatpassword">Repeat Password </label>-->
<!--              <input class="mb-2" ng-model="password" formControlName="repeatpassword" type="password" id="repeatpassword" name="repeatpassword" />-->
<!--            </div>-->


<!--          </div>-->

<!--          <div class="row mt-2 mx-auto">-->
<!--            <button type="submit" class="btn btn-primary col ml-1">Change Password</button>-->
<!--          </div>-->

<!--        </form>-->

<!--        <button id="instructorBtn" class="btn btn-outline-primary" (click)="requestToBeInstructor()"> Request To Be Instructor</button>-->
<!--        -->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
